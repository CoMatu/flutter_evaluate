## Что такое инкапсуляция в ООП?

Инкапсуляция — один из ключевых принципов объектно-ориентированного программирования (ООП). Она заключается в объединении данных и методов, работающих с этими данными, в единую сущность (объект) и скрытии внутренней реализации этих данных и методов от внешнего мира.

### Основные аспекты инкапсуляции:

1. **Сокрытие данных (Data Hiding)**:
   - Данные объекта (переменные-члены или свойства) скрыты от прямого доступа извне. Это достигается путем использования модификаторов доступа, таких как `private`, `protected` и `public`.
   - Например, данные могут быть объявлены как `private`, что означает, что они не могут быть доступны напрямую из-за пределов класса.

2. **Предоставление публичного интерфейса (Public Interface)**:
   - Для работы с данными объекта предоставляются публичные методы (геттеры и сеттеры), которые контролируют доступ к этим данным.
   - Эти методы позволяют безопасно получать и изменять значения свойств объекта, обеспечивая контроль и валидацию данных.

### Пример инкапсуляции в Dart:

```dart
class BankAccount {
  // Приватное свойство
  double _balance;

  // Конструктор
  BankAccount(this._balance);

  // Публичный метод для получения баланса
  double getBalance() {
    return _balance;
  }

  // Публичный метод для внесения средств на счет
  void deposit(double amount) {
    if (amount > 0) {
      _balance += amount;
      print('Deposit successful: $amount');
    } else {
      print('Invalid deposit amount');
    }
  }

  // Публичный метод для снятия средств со счета
  void withdraw(double amount) {
    if (amount > 0 && amount <= _balance) {
      _balance -= amount;
      print('Withdrawal successful: $amount');
    } else {
      print('Invalid withdrawal amount');
    }
  }
}

void main() {
  BankAccount account = BankAccount(100);
  
  // Внесение средств
  account.deposit(50); // Output: Deposit successful: 50.0
  
  // Снятие средств
  account.withdraw(30); // Output: Withdrawal successful: 30.0
  
  // Получение баланса
  print('Balance: ${account.getBalance()}'); // Output: Balance: 120.0
  
  // Неправильная попытка снятия средств
  account.withdraw(200); // Output: Invalid withdrawal amount
}
```

### Преимущества инкапсуляции:

1. **Контроль доступа**:
   - Инкапсуляция позволяет контролировать доступ к данным объекта, предотвращая их неправильное или несанкционированное использование.

2. **Модульность**:
   - Объединение данных и методов в классы делает код более модульным, что облегчает его понимание и поддержку.

3. **Безопасность**:
   - Скрытие внутренней реализации и предоставление только необходимого интерфейса повышает безопасность кода, так как изменения в реализации не влияют на внешний код.

4. **Поддерживаемость**:
   - Инкапсуляция упрощает поддержку и модификацию кода. Изменения во внутренней реализации не требуют изменений во внешнем коде, использующем этот класс.

5. **Гибкость**:
   - Благодаря инкапсуляции можно легко изменять внутреннюю реализацию класса без нарушения работы внешнего кода, что повышает гибкость и адаптивность системы.

### Заключение

Инкапсуляция — важный принцип ООП, который помогает создавать гибкие, поддерживаемые и безопасные системы. Она обеспечивает защиту данных, контроль доступа и модульность, что способствует улучшению качества и надежности программного обеспечения.