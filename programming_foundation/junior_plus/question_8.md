## В чем разница между паттернами Adapter и Facade?

Паттерны **Adapter** и **Facade** — это структурные паттерны проектирования, которые используются для упрощения взаимодействия с классами и системами, но они решают разные задачи и применяются в различных контекстах. Давайте рассмотрим основные различия между этими паттернами.

### Adapter (Адаптер)

**Цель**: Паттерн Adapter предназначен для того, чтобы интерфейс одного класса был совместим с интерфейсом другого. Это позволяет объектам с несовместимыми интерфейсами работать вместе.

**Когда использовать**:
- Когда вам нужно использовать сторонний класс, интерфейс которого не соответствует требуемому.
- Когда вы хотите создать класс-обертку, который преобразует интерфейс одного класса в интерфейс, ожидаемый клиентом.

**Как работает**:
- Адаптер реализует интерфейс, ожидаемый клиентом, и перенаправляет вызовы методов к адаптируемому объекту, преобразуя при необходимости данные между этими методами.

**Пример**:
Предположим, у вас есть существующий класс, который ожидает определенный интерфейс, но вы хотите использовать класс с другим интерфейсом.

```dart
// Существующий интерфейс, который ожидает клиент
abstract class Target {
  void request();
}

// Класс, который имеет несовместимый интерфейс
class Adaptee {
  void specificRequest() {
    print("Specific request");
  }
}

// Адаптер, который делает интерфейс Adaptee совместимым с интерфейсом Target
class Adapter implements Target {
  final Adaptee adaptee;

  Adapter(this.adaptee);

  @override
  void request() {
    adaptee.specificRequest();
  }
}

void main() {
  Adaptee adaptee = Adaptee();
  Target target = Adapter(adaptee);

  // Клиент может использовать адаптер как если бы это был объект класса Target
  target.request();
}
```

### Facade (Фасад)

**Цель**: Паттерн Facade предоставляет простой интерфейс к сложной подсистеме, делая её использование проще для клиента. Он не изменяет интерфейс существующих классов, а создает новый интерфейс, который упрощает доступ к функциональности подсистемы.

**Когда использовать**:
- Когда вам нужно предоставить упрощенный интерфейс к сложной системе.
- Когда вы хотите уменьшить связанность между клиентом и сложной системой, спрятав сложность системы за фасадом.

**Как работает**:
- Фасад создает простой интерфейс для взаимодействия с более сложной подсистемой, вызывая необходимые методы классов подсистемы и координируя их работу.

**Пример**:
Предположим, у вас есть сложная библиотека для работы с графикой, состоящая из множества классов. Вы хотите предоставить простой интерфейс для выполнения часто используемых операций.

```dart
// Сложные классы подсистемы
class ComplexSubsystemA {
  void operationA1() {
    print("Operation A1");
  }
  
  void operationA2() {
    print("Operation A2");
  }
}

class ComplexSubsystemB {
  void operationB1() {
    print("Operation B1");
  }
  
  void operationB2() {
    print("Operation B2");
  }
}

// Фасад, который предоставляет простой интерфейс к подсистемам
class Facade {
  final ComplexSubsystemA subsystemA;
  final ComplexSubsystemB subsystemB;

  Facade(this.subsystemA, this.subsystemB);

  void simpleOperation() {
    subsystemA.operationA1();
    subsystemB.operationB1();
  }
}

void main() {
  ComplexSubsystemA subsystemA = ComplexSubsystemA();
  ComplexSubsystemB subsystemB = ComplexSubsystemB();
  Facade facade = Facade(subsystemA, subsystemB);

  // Клиент может использовать фасад для выполнения простой операции
  facade.simpleOperation();
}
```

### Основные различия между Adapter и Facade

1. **Назначение**:
   - **Adapter** используется для преобразования интерфейса одного класса в интерфейс другого, делая несовместимые интерфейсы совместимыми.
   - **Facade** используется для предоставления упрощенного интерфейса к сложной системе, облегчая использование этой системы.

2. **Область применения**:
   - **Adapter** применяется к одному конкретному классу или интерфейсу, с которым нужно работать.
   - **Facade** применяется к целой системе или подсистеме, объединяя и упрощая их интерфейсы.

3. **Влияние на структуру кода**:
   - **Adapter** добавляет слой обертки вокруг конкретного класса.
   - **Facade** добавляет новый интерфейс, который упрощает взаимодействие с группой классов или подсистемой.

4. **Масштаб изменений**:
   - **Adapter** изменяет или оборачивает один класс.
   - **Facade** создаёт новый интерфейс для взаимодействия с группой классов или целой подсистемой.

### Заключение

Паттерны Adapter и Facade помогают упрощать работу с кодом, но они решают разные задачи и применяются в различных контекстах. Adapter преобразует интерфейс одного класса в интерфейс другого, в то время как Facade предоставляет простой интерфейс к сложной системе. Понимание этих различий позволяет выбрать правильный паттерн для решения конкретной задачи.